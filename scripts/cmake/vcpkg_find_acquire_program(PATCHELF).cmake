set(program_name patchelf)
set(program_version 0.17.2)
set(supported_on_unix ON)
if(CMAKE_HOST_SYSTEM_NAME STREQUAL "Linux")
    execute_process(COMMAND "uname" "-m" OUTPUT_VARIABLE HOST_ARCH OUTPUT_STRIP_TRAILING_WHITESPACE)
    if(HOST_ARCH STREQUAL "aarch64")
        set(patchelf_platform "aarch64")
        set(download_sha512 "cde3003285beef7c4c71c735c934b2d499982c7f1af42e74f58415b44fdcc18d1c95a172252908bd7c0054aaace403c7078dd386cf5fc9dc540b799a3bf03abb")
    elseif(HOST_ARCH STREQUAL "armv7l")
        set(patchelf_platform "armv7l")
        set(download_sha512 "5957c6577b9360337102bec49d6e3f4550f255f7f60d65fc27e223d7ab720677296eec9970ccd5f9ca95ce220e8eb5e879b446c5f435df143172e94f9a5bd8a6")
    else()
        set(patchelf_platform "x86_64")
        set(download_sha512 "b1df3c3ea0038cc154068fcacb7be608ec561b15806033d909cec4189ffcda42f780737f4692a411aed1155f6f8a78eb1cf15891e8b9a54a61d4767923669a18")
    endif()
    set(download_filename "${program_name}-${program_version}-${patchelf_platform}.tar.gz")
    set(download_urls "https://github.com/NixOS/patchelf/releases/download/${program_version}/${download_filename}")
    set(tool_subdirectory "${program_version}-${patchelf_platform}-linux")
    set(paths_to_search "${DOWNLOADS}/tools/patchelf/${program_version}-${patchelf_platform}-linux/bin")
endif()
